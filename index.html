<!DOCTYPE html>
<html>
<head>
  <title>Копилка виджет</title>
  <style>
    body {
      background-color: #1A1A1A;
    }

    .widget-container {
      width: 400px;
      padding: 10px;
      background-color: #1A1A1A;
      border-radius: 20px;
    }

    #piggy-image {
      width: 103%;
      height: auto;
      margin-bottom: 10px;
      border-radius: 70px;
    }

    #amount-input {
      width: 40%;
      height: 25px;
      border-radius: 1px;
      margin-bottom: 20px;
      margin-left: 100px;
      padding: 5px;
    }

    #add-button {
      width: 40px;
      height: 40px;
      background-color: #78cfa0;
      border: none;
      color: white;
      font-weight: bold;
      border-radius: 10px;
    }

    #amount-display {
      width: 67%;
      height: 50px;
      background-color: #1A1A1A;
      color: white;
      font-weight: bold;
      font-size: 75px;
      font-family: monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      margin-left: 75px;
    }
  </style>
  <script>
    let totalAmount;

    function loadAmount() {
      totalAmount = localStorage.getItem("totalAmount");
      if (!totalAmount) {
        totalAmount = 0;
      }
      displayAmount();
    }

    function saveAmount() {
      localStorage.setItem("totalAmount", totalAmount);
    }

    function addAmount() {
      const input = document.getElementById("amount-input");
      const amount = parseFloat(input.value);
      if (!isNaN(amount)) {
        totalAmount += amount;
        input.value = "";
        displayAmount();
        saveAmount();
      }
    }

    function displayAmount() {
      const display = document.getElementById("amount-display");
      display.textContent = `${totalAmount.toFixed(0)}`;
    }

    window.addEventListener("DOMContentLoaded", loadAmount);
    window.addEventListener("beforeunload", saveAmount);
  </script>
</head>
<body>
  <div class="widget-container">
    <img id="piggy-image" src="https://img.freepik.com/free-vector/piggy-bank-concept-illustration_114360-5612.jpg?w=1380&t=st=1696635" alt="piggy bank">
    <input type="number" id="amount-input" placeholder="Введите сумму">
    <button id="add-button" onclick="addAmount()">Добавить</button>
    <div id="amount-display"></div>
  </div>
</body>
</html>



